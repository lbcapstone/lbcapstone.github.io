<!DOCTYPE html>
<html>
<head>
  <title>User Information Example</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
    }
    
    h1 {
      text-align: center;
    }
    
    .container {
      max-width: 600px;
      margin: 0 auto;
    }
    
    .section {
      margin-bottom: 40px;
    }
    
    .label {
      font-weight: bold;
    }
  </style>
</head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<body>
  <div class="container">
    <h1>User Information Example</h1>
    
    <div class="section">
      <h2>User Agent</h2>
      <p class="label">User Agent:</p>
      <p id="user-agent"></p>
      <p>This looks like a big random blob of words, but in reality, it contains a lot of really important information about your device. From it, different websites, or even malicous agents from outside the scope of a website, can figure out how best to attack a user.</p>
    </div>
    
    <div class="section">
      <h2>Screen Resolution</h2>
      <p class="label">Screen Resolution:</p>
      <p id="screen-resolution"></p>
      <p>The screen resolution of a user matters very little. It doesn't give the user's personal information or make their device less safe, but it is important that people know how much of their devices information is given away the second they enter a webpage.</p>
    </div>
    
    <div class="section">
      <h2>Geolocation</h2>
      <p class="label">Latitude:</p>
      <p id="latitude"></p>
      <p class="label">Longitude:</p>
      <p id="longitude"></p>
      <p>Geolocation is probable one of the most worrying parts of this page. Without even clicking a button that allows for users to allow or deny use of location, a website like this one can track you, not just to a state or city, but to an exact latitude and longitude.</p>
    </div>
    
    <div class="section">
      <h2>Cookies</h2>
      <p class="label">Cookies Enabled:</p>
      <p id="cookies-enabled"></p>
      <p>Cookies being enabled allows websites to store data through web sessions. This is not a bad things. In fact, this really allows a website to log you in faster, and keep your credentials saved. However, these days, most websites don't allow you to fully turn them off, as they claim to need a certain amount to work in the first place. Because of this, it is important to know how information can be stored through web sessions, even if you completely clear your browser history or reload the page.</p>
    </div>
    
    <div class="section">
      <h2>Local Storage</h2>
      <p class="label">Local Storage Support:</p>
      <p id="local-storage-support"></p>
    </div>
    
    <div class="section">
      <h2>Session Storage</h2>
      <p class="label">Session Storage Support:</p>
      <p id="session-storage-support"></p>
    </div>
    
    <div class="section">
      <h2>Browser History</h2>
      <p class="label">Browser History Length:</p>
      <p id="history-length"></p>
    </div>
    
    <div class="section">
      <h2>Form Input</h2>
      <label for="name" class="label">Name:</label>
      <input type="text" id="name">
      <br>
      <label for="email" class="label">Email:</label>
      <input type="email" id="email">
      <br>
      <label for="password" class="label">Password:</label>
      <input type="password" id="password">
    </div>
    
    <div class="section">
      <h2>Device Orientation</h2>
      <p class="label">Device Orientation:</p>
      <p id="device-orientation"></p>
    </div>
    
    <div class="section">
      <h2>Network Information</h2>
      <p class="label">Connection Type:</p>
      <p id="connection-type"></p>
      <p class="label">Approximate Speed:</p>
      <p id="connection-speed"></p>
    </div>
  </div>
  
  <script>
    // User Agent
    document.getElementById('user-agent').textContent = navigator.userAgent;
    
    // Screen Resolution
    document.getElementById('screen-resolution').textContent = screen.width + ' x '

    // Screen Resolution
    document.getElementById('screen-resolution').textContent = screen.width + ' x ' + screen.height;

    let ip = "";
        $.getJSON("https://api.ipify.org?format=json", function(data) {
         
         // Setting text of element P with id gfg
         ip = data.ip;
        })
        
        fetch(`https://ipapi.co/${ip}/json/`).then(function(response) {
            response.json().then(jsonData => {
                console.log(jsonData)
                document.getElementById('latitude').textContent = jsonData.latitude;
                document.getElementById('longitude').textContent = jsonData.longitude;
            })
        }).catch(function(error) {
            console.log(error)
        })

// Geolocation
// if ('geolocation' in navigator) {
//   navigator.geolocation.getCurrentPosition(function(position) {
//     document.getElementById('latitude').textContent = position.coords.latitude;
//     document.getElementById('longitude').textContent = position.coords.longitude;
//   });
// } else {
//   document.getElementById('latitude').textContent = 'Geolocation not supported';
//   document.getElementById('longitude').textContent = 'Geolocation not supported';
// }

// Cookies
document.getElementById('cookies-enabled').textContent = navigator.cookieEnabled ? 'Enabled' : 'Disabled';

// Local Storage
document.getElementById('local-storage-support').textContent = typeof(Storage) !== 'undefined' ? 'Supported' : 'Not supported';

// Session Storage
document.getElementById('session-storage-support').textContent = typeof(sessionStorage) !== 'undefined' ? 'Supported' : 'Not supported';

// Browser History
document.getElementById('history-length').textContent = window.history.length;

// Device Orientation
window.addEventListener('deviceorientation', function(event) {
  document.getElementById('device-orientation').textContent = 'Tilt: ' + event.beta + ', Rotation: ' + event.gamma;
});

// Network Information
if ('connection' in navigator) {
  var connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
  document.getElementById('connection-type').textContent = connection.type || 'Unknown';
  document.getElementById('connection-speed').textContent = connection.downlink || 'Unknown';
} else {
  document.getElementById('connection-type').textContent = 'Not supported';
  document.getElementById('connection-speed').textContent = 'Not supported';
}
</script>
</body>
</html>